<!DOCTYPE html>
<html>
<head>
	<title>Information Retrieval</title>
	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
	<link rel="stylesheet" type="text/css" href="style.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script type="text/javascript">

function split( val ) {
	return val.split( /,\s*/ );
}
function extractLast( term ) {
	return split( term ).pop();
}
$(function() {
    function split( val ) {
      return val.split( /,\s*/ );
    }
    function extractLast( term ) {
      return split( term ).pop();
    }
 
    $("#text_query")
      // don't navigate away from the field on tab when selecting an item
      .on( "keydown", function( event ) {
        if ( event.keyCode === $.ui.keyCode.TAB &&
            $( this ).autocomplete( "instance" ).menu.active ) {
          event.preventDefault();
        }
      })
      .autocomplete({
        minLength: 3,
        source: function( request, response ) {
	        $.ajax({
				url: "http://localhost:12345",
				method: "GET",
				data: {text: request.term, request: 1},
				dataType: "json",
				success: function (result) {
					console.log(result);
					response(result);
					// if (result.length == 0) {
					// 	alert('Unable to process the given query');
					// } else {
					// 	//
					// }
				},
				error: function (xhr, ajaxOptions, thrownError) {
					console.log('Error in backend');
				}
			});
		},
        focus: function() {
          // prevent value inserted on focus
          return false;
        },
        select: function( event, ui ) {
          var terms = split( this.value );
          // remove the current input
          terms.pop();
          // add the selected item
          terms.push( ui.item.value );
          // add placeholder to get the comma-and-space at the end
          terms.push( "" );
          this.value = terms.join( ", " );
          return false;
        }
      });
});

getResults = function() {
	var query = $("#text_query").val();
	console.log(query);
	$.ajax({
		url: "http://localhost:12345",
		method: "GET",
		data: {text: query, request: 2},
		dataType: "json",
		success: function (result) {
			console.log(result);
			if (result.length == 0) {
				alert('Unable to process the given query');
			} else {
				// wait(1000);
			}
		},
		error: function (xhr, ajaxOptions, thrownError) {
			console.log('Error in backend');
		}
	});
};

</script>
<body background="4.jpg">
	
<div class="container">
	<div class="jumbotron" style="text-align:center;background-image:url('1.jpg');background-size: cover;background-repeat:no-repeat">
		<h1 class="display-3" style="border:2px solid white;background-color:rgba(255, 255, 255, 0.658);"><b>RECIPES</b></h1>
	<p class="lead" style="border:2px solid black;color:white; background-color: rgba(0, 0, 0, 0.555)"><i>You type in the Ingredients. We bring you the Recipes</i></p>
	</div>

	<!-- Search form -->
	<div class="active-cyan-4 mb-4">
		<div class="row">
			<div class="col-sm-10">
				<input id="text_query" class="form-control" type="text" placeholder="Search Keyword" aria-label="Search">
			</div>
			<div class="col-sm-2">
			<button style="background-color:rgba(28, 137, 28, 0.779); color: white" onclick="getResults()"><b>Go!</b></button>
		</div>
	</div>
<!-- 	<div class="row">
			<div class="col-sm-10">
			  <form>
					<input type="file" style="display: inline; padding: 5px 5px; border: 1.5px solid black;" name="pic" accept="image/*" class="btn btn-secondary"></input>
				  <button><b>Submit</b></button>
				</form>
				</div>
			 </div>
	</div>
 -->


	<div class="active-cyan-4 mb-4">
	<div class="row">

	
		<div class="col-sm-3">	
						<li class="list-group-item"><h6>Cuisine</h6>
						<div>
							<form>
								<div class="radio">
									<label><input type="radio" name="optradio"> Indian </label>
							</div>
							<div class="radio">
									<label><input type="radio" name="optradio"> Mexican</label>
							</div>
							<div class="radio">
									<label><input type="radio" name="optradio"> Italian</label>
							</div>
							</form>
							</div>
								</li>
			</div>


			<div class="col-sm-3">
				<li class="list-group-item">
					<div class="form-group">
					<label for="exampleFormControlSelect2"><h6>Time to cook</h6></label>
					<select multiple class="form-control small" id="exampleFormControlSelect2">
					  <option>Any</option>
					  <option>10 minutes</option>
					  <option>20 minutes</option>
					  <option>30 minutes</option>
					  <option>1 hours</option>
					</select>
				  </div>
					</li>
			</div>
					

			<div class="col-sm-3">
					<li class="list-group-item"><h6>Calories</h6>
				<div>
				<form>
					<div class="radio">
					<label><input type="radio" name="optradio"> Less than 200 </label>
				</div>
				<div class="radio">
					<label><input type="radio" name="optradio"> 200 - 400</label>
				</div>
				<div class="radio">
					<label><input type="radio" name="optradio"> 500 - 700</label>
				</div>
				</form>
					</div>
						</li>
			</div>
				

			<div class="col-sm-3">
				<li class="list-group-item"><h6>Diatery restrictions</h6>
						<div>
								<form>
									<div class="checkbox">
										<label><input type="checkbox" value="">Dairy</label>
									</div>
									<div class="checkbox">
										<label><input type="checkbox" value="">Soy</label>
									</div>
									<div class="checkbox">
										<label><input type="checkbox" value="">Meat</label>
									</div>
								</form>
							</div>
				</li>
			 </div>
					
			
	</div>
	</div>


		

<div>
		<h5 class="display-7" style="border:2px solid black;color:white; background-color: rgba(224, 179, 179, 0.476); padding: 5px 5px;"><i>RESULTS</i></h5>
</div>

<br>
	<div class="row">
		<div class="col-sm-12">
			
			<div style="padding-bottom: 30px;">
				<div class="card" >
				  <div class="card-body">
					<div class="row">
						<div class="col-sm-9">
							<h6 class="card-title">Chicken Parmesan</h6>
						</div>
						<div class="col-sm-3">
							<h6 class="card-subtitle mb-2 text-muted" style="font-size: 12px;">Time to cook: 20 mins</h6>
						</div>
					</div>
					<p class="card-text">Some quick example text to build on the card title and make up the bulk of the recipe's content. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
					tempor incididunt ut labore et dolore magna aliqua. </p>		    
					<a href="#" class="card-link">Recipe link</a>
				  </div>
				</div>
			</div>

			<div style="padding-bottom: 30px;">
				<div class="card" >
				  <div class="card-body">
					<div class="row">
						<div class="col-sm-9">
							<h6 class="card-title">Chicken Parmesan</h6>
						</div>
						<div class="col-sm-3">
							<h6 class="card-subtitle mb-2 text-muted" style="font-size: 12px;">Time to cook: 20 mins</h6>
						</div>
					</div>
					
					<p class="card-text">Some quick example text to build on the card title and make up the bulk of the recipe's content. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
					tempor incididunt ut labore et dolore magna aliqua. </p>		    
					<a href="#" class="card-link">Recipe link</a>
				  </div>
				</div>
			</div>

			<div style="padding-bottom: 30px;">
				<div class="card" >
				  <div class="card-body">
					<div class="row">
						<div class="col-sm-9">
							<h6 class="card-title">Chicken Parmesan</h6>
						</div>
						<div class="col-sm-3">
							<h6 class="card-subtitle mb-2 text-muted" style="font-size: 12px;">Time to cook: 20 mins</h6>
						</div>
					</div>
					
					<p class="card-text">Some quick example text to build on the card title and make up the bulk of the recipe's content. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
					tempor incididunt ut labore et dolore magna aliqua. </p>		    
					<a href="#" class="card-link">Recipe link</a>
				  </div>
				</div>
			</div>


		</div>

		</div>
	</div>

	
	

</div>

</body>
</html>